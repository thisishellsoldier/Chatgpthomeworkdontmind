program DiagonalAverage;  { Назва програми: Обчислення середнього на діагоналі }

const
  MaxN = 100;  { Константа: максимальний можливий розмір масиву }

type
  TArray = array[1..MaxN, 1..MaxN] of real;  { Тип: двовимірний масив дійсних чисел розміром до 100x100 }

var
  a: TArray;     { Змінна: сам масив для зберігання елементів }
  n, i, j: integer;  { Змінні: n - розмір масиву, i та j - лічильники циклів }
  sum: real;     { Змінна: сума елементів головної діагоналі }

begin
  writeln('Введіть розмір квадратного масиву n:');  { Вивід запрошення для введення розміру }
  readln(n);     { Зчитування значення n з клавіатури }
  
  if (n < 1) or (n > MaxN) then  { Перевірка коректності введеного розміру }
  begin
    writeln('Неправильний розмір масиву!');  { Повідомлення про помилку }
    halt;  { Аварійне завершення програми }
  end;
  
  writeln('Введіть елементи масиву ', n, 'x', n, ':');  { Вивід інформації про введення елементів }
  
  for i := 1 to n do     { Зовнішній цикл по рядках }
    for j := 1 to n do   { Внутрішній цикл по стовпцях }
    begin
      write('a[', i, ',', j, '] = ');  { Вивід запиту на введення конкретного елемента }
      readln(a[i, j]);     { Зчитування значення елемента масиву }
    end;
  
  sum := 0;  { Ініціалізація суми нулем перед обчисленням }
  
  for i := 1 to n do     { Цикл по елементах головної діагоналі }
    sum := sum + a[i, i];  { Додавання поточного елемента діагоналі до суми (індекси рядка і стовпця однакові) }
  
  writeln('Середнє арифметичне елементів головної діагоналі: ', sum / n:0:6);  
  { Вивід результату: сума поділена на n (кількість елементів діагоналі), формат з 6 знаками після коми }
  
  readln;  { Очікування натискання Enter перед закриттям вікна програми }
end.  { Кінець програми }
